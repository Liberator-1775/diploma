(()=>{"use strict";var e,o,t,r,n={481:(e,o,t)=>{t.a(e,(async(e,o)=>{try{var r=t(185);const n=function(){const e=window.MutationObserver;return function(o,t){if(null==o||1!==o.nodeType)return;const r=new e(t);return r.observe(o,{childList:!0,subtree:!0}),r}}();function a(){const e=new Image(24,24);e.src="data:image/jpeg;base64, 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";const o=document.createElement("a");return o.appendChild(e),o.addEventListener("click",c),o.style.cssText="display: flex",o}function c(e){var o,t;const r=null===(t=null===(o=e.target.parentElement)||void 0===o?void 0:o.parentElement)||void 0===t?void 0:t.parentElement,a=null==r?void 0:r.querySelector(".replies_next");if(null!==a){null==a||a.click();let o=!1;const t=n(r,(function(n){n.forEach((n=>{n.addedNodes.forEach((n=>{var a;const c=null==r?void 0:r.querySelector(".replies_next");(null===(a=n.className)||void 0===a?void 0:a.includes("replies_next"))?n.click():null!=c?c.click():null!=c||o||(o=!0,null==t||t.disconnect(),i(e.target,r))}))}))}))}else i(e.target,r)}function i(e,o){var t,n,a,c,i,s,l;let A="";A+="Пост от "+(null===(a=null===(n=null===(t=e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.querySelector("div.PostHeaderInfo.PostHeaderInfo--inHeader > div.PostHeaderTitle > div > h5 > a > span"))||void 0===a?void 0:a.textContent);const d=null==o?void 0:o.querySelectorAll(".wall_reply_text");if(null!=d)for(const e of d)A+="\n\nКомментарий от "+(null===(l=null===(s=null===(i=null===(c=e.parentElement)||void 0===c?void 0:c.parentElement)||void 0===i?void 0:i.parentElement)||void 0===s?void 0:s.querySelector(".author"))||void 0===l?void 0:l.textContent)+"\n"+e.textContent;chrome.runtime.sendMessage({action:r.X.voiceRequest,content:A}).catch((e=>{console.error("Error sending message: ",e)}))}const s=await(0,r.Z)("#feed_rows");let l;document.querySelectorAll(".post > div > div.PostHeader.PostHeader--compact.PostHeader--inPost.js-PostHeader").forEach((e=>null==e?void 0:e.insertBefore(a(),e.childNodes[4]))),n(s,(function(e){e.forEach((e=>{e.addedNodes.forEach((e=>{var o;if(null===(o=e.classList)||void 0===o?void 0:o.contains("feed_row")){const o=e.querySelector(".post > div > div.PostHeader.PostHeader--compact.PostHeader--inPost.js-PostHeader");null==o||o.insertBefore(a(),o.childNodes[4])}}))}))})),chrome.runtime.onMessage.addListener((function(e,o,t){return e.action===r.X.voiceResponse&&(void 0===l||l.ended||l.pause(),l=new Audio(`data:audio/mp3;base64,${e.content}`),l.play().catch((e=>{console.error(e)}))),!0})),o()}catch(A){o(A)}}),1)},185:(e,o,t)=>{async function r(e){return await new Promise((o=>{const t=document.querySelector(e);if(null!=t)return void o(t);const r=new MutationObserver((()=>{const t=document.querySelector(e);null!=t&&(r.disconnect(),o(t))}));r.observe(document.body,{childList:!0,subtree:!0})}))}var n;t.d(o,{X:()=>n,Z:()=>r}),function(e){e[e.voiceRequest=0]="voiceRequest",e[e.voiceResponse=1]="voiceResponse"}(n||(n={}))}},a={};function c(e){var o=a[e];if(void 0!==o)return o.exports;var t=a[e]={exports:{}};return n[e](t,t.exports,c),t.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",o="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(n,a,c)=>{var i;c&&((i=[]).d=-1);var s,l,A,d=new Set,u=n.exports,v=new Promise(((e,o)=>{A=o,l=e}));v[o]=u,v[e]=e=>(i&&e(i),d.forEach(e),v.catch((e=>{}))),n.exports=v,a((n=>{var a;s=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var a=[];a.d=0,n.then((e=>{c[o]=e,r(a)}),(e=>{c[t]=e,r(a)}));var c={};return c[e]=e=>e(a),c}}var i={};return i[e]=e=>{},i[o]=n,i})))(n);var c=()=>s.map((e=>{if(e[t])throw e[t];return e[o]})),l=new Promise((o=>{(a=()=>o(c)).r=0;var t=e=>e!==i&&!d.has(e)&&(d.add(e),e&&!e.d&&(a.r++,e.push(a)));s.map((o=>o[e](t)))}));return a.r?l:c()}),(e=>(e?A(v[t]=e):l(u),r(i)))),i&&i.d<0&&(i.d=0)},c.d=(e,o)=>{for(var t in o)c.o(o,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},c.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),c(481)})();